{"version":3,"sources":["store.js","components/SearchBox/SearchBox.js","components/Container/Container.js","components/List/List.js","components/User/User.js","components/Loading/Loading.js","components/Empty/Empty.js","pages/Home/Home.js","components/List/Item.js","pages/Repositories/Repositories.js","App.js","index.js"],"names":["initialState","repositories","data","loading","error","currentSearch","users","currentUser","StoreContext","createContext","reducer","state","action","type","Object","objectSpread","query","Error","StoreContainer","_ref","children","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","react_default","a","createElement","Provider","value","SearchBox","onSubmit","className","name","id","placeholder","required","withRouter","history","components_SearchBox_SearchBox","e","preventDefault","target","querySelector","push","concat","List","title","User","login","avatarUrl","Link","to","src","alt","Loading","Empty","Home","location","_useContext","useContext","_useContext$state$use","fetchData","_ref2","asyncToGenerator","regenerator_default","mark","_callee","response","_ref3","items","wrap","_context","prev","next","search","length","abrupt","fetch","sent","json","stop","apply","this","arguments","getTermSearch","split","useEffect","components_Container_Container","components_Loading_Loading","components_Empty_Empty","components_List_List","map","item","components_User_User","key","avatar_url","Item","description","html_url","href","rel","Repositories","match","params","_useContext$state$rep","result","components_List_Item","App","BrowserRouter","store_StoreContainer","Route","exact","path","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ee5f7608.chunk.js","sourcesContent":["import React, { useReducer, createContext } from 'react';\n\nexport const START_RESULTUSERS = 'startResultUsers';\nexport const SUCCESS_RESULTUSERS = 'successResultUsers';\nexport const ERROR_RESULTUSERS = 'errorResultUsers';\nexport const START_RESULT_REPOSITORIES = 'startResultRepositories';\nexport const SUCCESS_RESULT_REPOSITORIES = 'successResultRepositories';\nexport const ERROR_RESULT_REPOSITORIES = 'errorResultRepositories';\n\nconst initialState = {\n  repositories: {\n    data: null,\n    loading: false,\n    error: false,\n    currentSearch: null,\n  },\n  users: {\n    data: null,\n    loading: false,\n    error: false,\n    currentUser: null,\n  }\n}\n\nexport const StoreContext = createContext(initialState);\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case START_RESULTUSERS:\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          loading: true,\n          currentSearch: action.query,\n        }\n      };\n    case SUCCESS_RESULTUSERS:\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          loading: false,\n          data: action.data,\n        }\n      };\n    case ERROR_RESULTUSERS:\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          loading: false,\n          error: action.error,\n        }\n      };\n    case START_RESULT_REPOSITORIES:\n      return {\n        ...state,\n        repositories: {\n          ...state.repositories,\n          loading: true,\n        }\n      };\n    case SUCCESS_RESULT_REPOSITORIES:\n      return {\n        ...state,\n        repositories: {\n          ...state.repositories,\n          loading: false,\n          data: action.data,\n        }\n      };\n    case ERROR_RESULT_REPOSITORIES:\n      return {\n        ...state,\n        repositories: {\n          ...state.repositories,\n          loading: false,\n          error: action.error,\n        }\n      };\n\n    default:\n      throw new Error();\n  }\n}\n\nexport const StoreContainer = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <StoreContext.Provider value={{state, dispatch}}>\n      {children}\n    </StoreContext.Provider>\n  )\n}","import React from 'react';\nimport './SearchBox.scss';\n\nconst SearchBox = ({ value, onSubmit }) => (\n  <div className=\"search-box\">\n    <form onSubmit={onSubmit}>\n        <input type=\"text\" name=\"q\" id=\"searchUsers\" placeholder=\"Buscar usuário\" value={value} required />\n        <input type=\"submit\" value=\"Enviar\" />\n    </form>\n  </div>\n)\n\nexport default SearchBox;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SearchBox from '../../components/SearchBox/SearchBox';\nimport './Container.scss';\n\nconst Container = ({ children, onSubmit, history }) => {\n  const handleSubmit = e => {\n    e.preventDefault();\n    const { target } = e;\n    const value = target.querySelector('input[name=\"q\"]').value;\n    history.push(`/?q=${value}`);\n    if (onSubmit) {\n      onSubmit(value);\n    }\n  }\n  \n  return (\n    <div className=\"home\">\n      <header>\n        <h3>Encontre repositórios por usuários no Github</h3>\n      </header>\n      <SearchBox onSubmit={handleSubmit} />\n      <div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(Container);","import React from 'react';\nimport './List.scss';\n\nconst List = ({ children, title }) =>\n  <div className=\"List\">\n    {children}\n  </div>\n\nexport default List;","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport './User.scss';\n\nconst User = ({ login, avatarUrl, id }) => \n  <Link to={`/user/${login}`} className=\"User\">\n    <img src={avatarUrl} className=\"avatar\" alt={`avatar - ${login}`} />\n    <div className=\"informations\">\n      <strong>{login}</strong>\n      <p>ID: {id}</p>\n    </div>\n  </Link>\n\nexport default User;","import React from 'react';\nimport './Loading.scss';\n\nconst Loading = () => <div className=\"Loading\">Carregando...</div>\n\nexport default Loading;\n","import React from 'react';\nimport './Empty.scss';\n\nconst Empty = () => <div className=\"Empty\">Não foram encontrados resultados para sua busca.</div>;\n\nexport default Empty;","import React, { useEffect, useContext } from 'react';\nimport { urlGithub } from '../../config';\nimport { \n  StoreContext,\n  START_RESULTUSERS, \n  SUCCESS_RESULTUSERS,\n  ERROR_RESULTUSERS \n} from '../../store';\nimport Container from '../../components/Container/Container';\nimport List from '../../components/List/List';\nimport User from '../../components/User/User';\nimport Loading from '../../components/Loading/Loading';\nimport Empty from '../../components/Empty/Empty';\n\nconst Home = ({ location }) => {\n  const { state: { users: { data, currentSearch, loading } }, dispatch } = useContext(StoreContext);\n\n  const fetchData = async () => {\n    if (\n      !location.search || \n      (data && data.length > 0 && location.search === currentSearch)\n    ) return;\n\n    dispatch({ type: START_RESULTUSERS, query: location.search });\n    const response = await fetch(`api/search/users${location.search}`);\n    \n    if (response) {\n      const { items } = await response.json();\n      dispatch({ type: SUCCESS_RESULTUSERS, data: items });\n    } else {\n      dispatch({ type: ERROR_RESULTUSERS, error: 'Erro de servidor' });\n    }\n  }\n\n  const getTermSearch = () => location.search ? location.search.split(\"?q=\")[1] : null;\n\n  const renderContent = () => {\n    if (loading) {\n      return <Loading />\n    } else if (data && data.length <= 0) {\n      return <Empty />\n    } else if (data && data.length > 0) {\n      return <List>\n        {data.map(item => (\n          <User key={item.login} login={item.login} avatarUrl={item.avatar_url} id={item.id} />\n        ))}\n      </List>\n    }\n    return null;\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [location.search]);\n\n  return (\n    <Container>\n      {!!getTermSearch() && <h4>Mostrando resultado de busca para <b>\"{getTermSearch()}\"</b></h4>}\n      {renderContent()}\n    </Container>\n  )\n}\n\n\nexport default Home;","import React from 'react';\nimport './Item.scss';\n\nconst Item = ({ name, description, html_url }) => (\n  <div className=\"Item\">\n    <a href={html_url} target=\"_blank\" rel=\"noopener noreferrer\">\n        <strong>{name}</strong>\n        <p>{description}</p>\n    </a>\n  </div>\n)\n\nexport default Item;","import React, { useEffect, useContext } from 'react';\nimport { urlGithub } from '../../config';\nimport Loading from '../../components/Loading/Loading';\nimport Container from '../../components/Container/Container';\nimport List from '../../components/List/List';\nimport Item from '../../components/List/Item';\nimport { \n  StoreContext,\n  START_RESULT_REPOSITORIES, \n  SUCCESS_RESULT_REPOSITORIES,\n  ERROR_RESULT_REPOSITORIES \n} from '../../store';\nimport Empty from '../../components/Empty/Empty';\n\nconst Repositories = ({ match: { params: { login } } }) => {\n  const { state: { repositories: { data, loading } }, dispatch } = useContext(StoreContext);\n\n  const fetchData = async () => {\n    dispatch({ type: START_RESULT_REPOSITORIES });\n    const response = await fetch(`api/users/${login}/repos`);\n    if (response) {\n      const result = await response.json();\n      dispatch({ type: SUCCESS_RESULT_REPOSITORIES, data: result });\n    } else {\n      dispatch({ type: ERROR_RESULT_REPOSITORIES, error: 'Erro de servidor' });\n    }\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  \n  const renderContent = () => {\n    if (loading) {\n      return <Loading />\n    } else if (data && data.length <= 0) {\n      return <Empty />\n    } else if (data && data.length > 0) {\n      return <List>\n        {data.map(item => \n          <Item \n            key={item.name}\n            name={item.name}\n            description={item.description}\n            html_url={item.html_url} \n          />\n        )}\n      </List>\n    }\n    return null;\n  }\n\n  return (\n    <Container>\n      <h4>Mostrando repositórios de <b>{login}</b></h4>\n      {renderContent()}\n    </Container>\n  )\n}\n\nexport default Repositories;","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport Home from './pages/Home/Home'\nimport Repositories from './pages/Repositories/Repositories'\nimport { StoreContainer } from './store';\nimport './style/reset.scss';\n\nconst App = () =>\n  <Router>\n    <StoreContainer>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/user/:login\" component={Repositories} />\n    </StoreContainer>\n  </Router>\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}